<div>
  <!--{{#if configured}}
    <form>
      <div class="panel panel-primary">
        <div class="panel-heading"><strong>Send new push notification</strong></div>
        <div class="panel-body">
          <div class="form-group">
            <p>The notification will be sent to all subscribed clients.</p>
            <textarea class="form-control" placeholder="Notification message"></textarea>
          </div>
          <div class="form-group">
            <input type="submit" value="Send notification" class="form-control btn btn-primary" />
          </div>
        </div>
      </div>
    </form>
  {{/if}}-->

  <form id="configuration">

    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li class="active"><a href="#settings" data-toggle="tab">Notification settings</a></li>
      <li><a href="#ios" data-toggle="tab">iOS {{#if apn}}<i class="glyphicon glyphicon-ok"></i>{{/if}}</a></li>
      <li><a href="#android" data-toggle="tab">Android {{#if gcm}}<i class="glyphicon glyphicon-ok"></i>{{/if}}</a></li>
      <li><a href="#windows" data-toggle="tab">Windows {{#if wns}}<i class="glyphicon glyphicon-ok"></i>{{/if}}</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane active" id="settings">
        <div class="form-group checkbox">
          <p>
            <label><input type="checkbox" name="showAutomatically" value="1" {{#if showAutomatically}}checked{{/if}} />
            Show the popup automatically</label>
          </p>
          <p class="help-block">If the above is not checked, you can trigger the push notifications yourself using the following code:</p>
          <pre><code>var pushWidget = Fliplet.Widget.get('PushNotifications');

pushWidget.ask().then(function (subscriptionId) {
  // user pressed allow and has been registered
}, function (err) {
  // contains code and message
})</code></pre>
        </div>
        <div class="form-group checkbox">
          <p>
            <label><input type="checkbox" name="showOnceOnPortal" value="1" {{#if showOnceOnPortal}}checked{{/if}} />
            Only show once on portal apps</label>
          </p>
        </div>
      </div>
      <div role="tabpanel" class="tab-pane" id="ios">
        <div class="form-group">
          <p>The authentication key, which can be created <a target="_blank" href="https://developer.apple.com/account/ios/certificate/key">here</a>.</p>
          <textarea class="form-control" name="apnAuthKey" placeholder="Auth Key">{{apnAuthKey}}</textarea>
          <br />
          <p>The Key ID of the p8 file (available <a target="_blank" href="https://developer.apple.com/account/ios/certificate/key">here</a>)</p>
          <input type="text" class="form-control" name="apnKeyId" placeholder="Key Id" value="{{apnKeyId}}"/>
          <br />
          <p>The Team ID of your Apple Developer Account (available <a href="https://developer.apple.com/account/#/membership/" target="_blank">here</a>)</p>
          <input type="text" class="form-control" name="apnTeamId" placeholder="Team ID" value="{{apnTeamId}}"/>
          <br />
          <p>The Package name, also called "topic" on APN.</p>
          <input type="text" class="form-control" name="apnTopic" placeholder="Topic" value="{{apnTopic}}"/>
        </div>
      </div>
      <div role="tabpanel" class="tab-pane" id="android">
        <div class="form-group">
          <p>A unique numerical value created when you configure your API project. The sender ID is used in the <a target="_blank" href="https://developers.google.com/cloud-messaging/registration">registration process</a> to identify an app server that is permitted to send messages to the client app.</p>
          <input type="text" class="form-control" name="gcmSenderId" placeholder="Sender ID" value="{{gcmSenderId}}"/>
          <br />
          <p>The server key can be created in the Firebase Console using the Cloud Messaging tab of the Settings panel.</p>
          <input type="text" class="form-control" name="gcmServerKey" placeholder="Server Key" value="{{gcmServerKey}}"/>
          <br />
          <p>The package name from the app manifest.</p>
          <input type="text" class="form-control" name="gcmPackageName" placeholder="Package name" value="{{gcmPackageName}}"/>
        </div>
      </div>
      <div role="tabpanel" class="tab-pane" id="windows">
        <div class="form-group">
          <p>Package Security Identifier</p>
          <textarea class="form-control" name="wnsClientId" placeholder="Client ID">{{wnsClientId}}</textarea>
          <br />
          <p>Client Secret</p>
          <input type="text" class="form-control" name="wnsClientSecret" placeholder="Client Secret" value="{{wnsClientSecret}}"/>
        </div>
      </div>
    </div>
  </form>
</div>
